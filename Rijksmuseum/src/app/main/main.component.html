<section>
  <form (ngSubmit)="onSubmit()" [formGroup]="searchForm">
    <div class="input-block input-block_sort">
      <label for="sorting">Order By: </label>
      <select
        formControlName="orderBy"
        name="sort"
        id="sorting"
        class="input select-sort"
      >
        <option value="relevance" [selected] = "true">Relevance</option>
        <option value="objecttype">Type</option>
        <option value="chronologic">Chronologically (oldest first)</option>
        <option value="achronologic">Chronologically (newest first)</option>
        <option value="artist">Artist (a-z)</option>
        <option value="artistdesc">Artist (z-a)</option>
      </select>
    </div>
<!--    <input type="text" class="input inp-type" placeholder="Order by: Type">-->
    <div class="input-block input-block_keyword">
      <input
        formControlName="searchKeyword"
        type="text"
        class="input inp-word"
        placeholder="Search keyword..."
      >
    </div>
    <div class="input-block input-block_submit">
      <input type="submit" class="input inp-search btn_orange" value='Search' >
    </div>

  </form>

  <div class="tiles-container" *ngIf="!dataService.isLoading; else loadingTileContainer">
<!--    <div-->
<!--      *ngFor="let artObject of artObjects"-->
<!--      class="tile border-gray"-->
<!--      [ngStyle]="{'background-image': 'url(' + artObject.headerImage.url + ')'}"-->
<!--      (click)="isPopupOpen = !isPopupOpen"-->
<!--    >-->
      <div
      *ngFor="let artObject of dataService.artObjects"
      class="tile border-gray"
      [ngClass]="{'not-image': !artObject.headerImage.url}"
      [ngStyle]="{'background-image': 'url(' + artObject.headerImage.url + ')'}"
      [routerLink]="['/main', 'popup',  artObject.objectNumber]"
    >
      <div class="tile__popup-text">
        {{artObject.longTitle}}
      </div>
    </div>


  </div>
<!--  PAGINATION START -->
<!--  TODO: Вынести погинацию в отдельный компонент -->
  <div class="pagination">
    <div class="pagination-control">
      <div class="pagination-control pagination-control_left">
        <div
          class="btn pagination-control__start"
          (click)="paginationService.goToStart()"
        >
          <img src="assets/arrow-start.svg" alt="<<<">
        </div>
        <div
          class="btn pagination-control__prev"
          (click)="paginationService.goPrev()"
        >
          <img src="assets/arrow-next.svg" alt="<—">
        </div>
      </div>
      <div
        class="paging pagination__numbers"
      >
        <ul>
          <li
            [ngClass]="{
            'pagination__numbers_active': page === paginationService.paginatorSettings.currentPage
            }"
            *ngFor="let page of paginationService.paginatorSettings.paging"
            (click)="paginationService.changePage(+page)"
          >{{page}}</li>
        </ul>
      </div>
      <div class="pagination-control pagination-control_right">
        <div
          class="btn pagination-control__next"
          (click)="paginationService.goNext()"
        >
          <img src="assets/arrow-next.svg" alt="—>">
        </div>
        <div
          class="btn pagination-control__finish"
          (click)="paginationService.goToFinish()"
        >
          <img src="assets/arrow-start.svg" alt=">>>">
        </div>
      </div>
    </div>
    <div class="results-per-page pagination__numbers">
      <ul>
        <li
          [ngClass]="{
            'pagination__numbers_active': +numOfPages === paginationService.paginatorSettings.objectPerPage
            }"
          *ngFor="let numOfPages of paginationService.paginatorSettings.allowedResultsPerPage"
          (click)="paginationService.changeResultsPerPage(+numOfPages)"

        >{{numOfPages}}</li>
      </ul>
    </div>
  </div>
  <!--  PAGINATION FINISH -->


  <ng-template #loadingTileContainer>
    <div class="tiles-container">
      <div
        *ngForWithNumbers="paginationService.paginatorSettings.objectPerPage"
        class="tile tile_pulse border-gray"
      >
        <div class="spinner spinner_no-shift"></div>
      </div>
    </div>
  </ng-template>
</section>

<!--<div-->
<!--  *ngIf="isPopupOpen"-->
<!--  class="modal-overlay"-->
<!--&gt;-->
<!--&lt;!&ndash;  <app-popup&ndash;&gt;-->
<!--&lt;!&ndash;    [ngClass]="isPopupOpen? 'active' : 'inactive'"&ndash;&gt;-->
<!--&lt;!&ndash;    (btnCloseHandler)="closePopupHandler()"&ndash;&gt;-->
<!--&lt;!&ndash;    [isVisible]="isPopupOpen"&ndash;&gt;-->
<!--&lt;!&ndash;  ></app-popup>&ndash;&gt;-->
<!--</div>-->

<router-outlet></router-outlet>
<!--<div class="modal-overlay" *ngIf="(isReportModalOpen)"></div>-->
